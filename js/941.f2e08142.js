"use strict";(self["webpackChunkcs_neep"]=self["webpackChunkcs_neep"]||[]).push([[941],{42941:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var r={};a.r(r),a.d(r,{parse:function(){return c}});var i=a(56768),s=a(24232);const o={class:"boxplot-container"},n={class:"chart-wrapper"},h={class:"chart-wrapper"};function l(t,e,a,r,l,p){return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",n,[(0,i.Lk)("div",{id:"main-boxplot",style:(0,s.Tr)({width:l.chartWidth,height:l.chartHeight})},null,4)]),(0,i.Lk)("div",h,[(0,i.Lk)("div",{id:"comparison-boxplot",style:(0,s.Tr)({width:l.chartWidth,height:l.chartHeight})},null,4)])])}var p=a(57075),u=(a(44114),a(44397));function c(t){var e;if("string"===typeof t){var a=new DOMParser;e=a.parseFromString(t,"text/xml")}else e=t;if(!e||e.getElementsByTagName("parsererror").length)return null;var r=g(e,"gexf");if(!r)return null;for(var i=g(r,"graph"),s=d(g(i,"attributes")),o={},n=0;n<s.length;n++)o[s[n].id]=s[n];return{nodes:m(g(i,"nodes"),o),links:f(g(i,"edges"))}}function d(t){return t?u.Tj(C(t,"attribute"),(function(t){return{id:v(t,"id"),title:v(t,"title"),type:v(t,"type")}})):[]}function m(t,e){return t?u.Tj(C(t,"node"),(function(t){var a=v(t,"id"),r=v(t,"label"),i={id:a,name:r,itemStyle:{normal:{}}},s=g(t,"viz:size"),o=g(t,"viz:position"),n=g(t,"viz:color"),h=g(t,"attvalues");if(s&&(i.symbolSize=parseFloat(v(s,"value"))),o&&(i.x=parseFloat(v(o,"x")),i.y=parseFloat(v(o,"y"))),n&&(i.itemStyle.normal.color="rgb("+[0|v(n,"r"),0|v(n,"g"),0|v(n,"b")].join(",")+")"),h){var l=C(h,"attvalue");i.attributes={};for(var p=0;p<l.length;p++){var u=l[p],c=v(u,"for"),d=v(u,"value"),m=e[c];if(m){switch(m.type){case"integer":case"long":d=parseInt(d,10);break;case"float":case"double":d=parseFloat(d);break;case"boolean":d="true"===d.toLowerCase();break;default:}i.attributes[c]=d}}}return i})):[]}function f(t){return t?u.Tj(C(t,"edge"),(function(t){var e=v(t,"id"),a=v(t,"label"),r=v(t,"source"),i=v(t,"target"),s={id:e,name:a,source:r,target:i,lineStyle:{normal:{}}},o=s.lineStyle.normal,n=g(t,"viz:thickness"),h=g(t,"viz:color");return n&&(o.width=parseFloat(n.getAttribute("value"))),h&&(o.color="rgb("+[0|v(h,"r"),0|v(h,"g"),0|v(h,"b")].join(",")+")"),s})):[]}function v(t,e){return t.getAttribute(e)}function g(t,e){var a=t.firstChild;while(a){if(1===a.nodeType&&a.nodeName.toLowerCase()===e.toLowerCase())return a;a=a.nextSibling}return null}function C(t,e){var a=t.firstChild,r=[];while(a)a.nodeName.toLowerCase()===e.toLowerCase()&&r.push(a),a=a.nextSibling;return r}function b(t){return t.sort((function(t,e){return t-e})),t}function y(t,e){var a=(t.length-1)*e+1,r=Math.floor(a),i=+t[r-1],s=a-r;return s?i+s*(t[r]-i):i}function x(t,e){e=e||{};for(var a=[],r=[],i=[],s=e.boundIQR,o="none"===s||0===s,n=0;n<t.length;n++){i.push(n+"");var h=b(t[n].slice()),l=y(h,.25),p=y(h,.5),u=y(h,.75),c=h[0],d=h[h.length-1],m=(null==s?1.5:s)*(u-l),f=o?c:Math.max(c,l-m),v=o?d:Math.min(d,u+m);a.push([f,l,p,u,v]);for(var g=0;g<h.length;g++){var C=h[g];if(C<f||C>v){var x=[n,C];"vertical"===e.layout&&x.reverse(),r.push(x)}}}return{boxData:a,outliers:r,axisData:i}}var w="1.0.0";p.p5&&(p.p5.version=w,p.p5.gexf=r,p.p5.prepareBoxplotData=x);var D={name:"BoxplotChart",props:{width:{type:String,default:"400px"},height:{type:String,default:"300px"},sourceData:{type:Array,default:()=>[[850,740,900,1070,930,850,950,980,980,880,1e3,980,930,650,760,810,1e3,1e3,960,960],[960,940,960,940,880,800,850,880,900,840,830,790,810,880,880,830,800,790,760,800],[880,880,880,860,720,720,620,860,970,950,880,910,850,870,840,840,850,840,840,840],[890,810,810,820,800,770,760,740,750,760,910,920,890,860,880,720,840,850,850,780]]},comparisonData:{type:Array,default:()=>[[750,700,800,970,830,750,850,880,880,780,900,880,830,550,660,710,900,900,860,860],[860,840,860,840,780,700,750,780,800,740,730,690,710,780,780,730,700,690,660,700],[780,780,780,760,620,620,520,760,870,850,780,810,750,770,740,740,750,740,740,740],[790,710,710,720,700,670,660,640,650,660,810,820,790,760,780,620,740,750,750,680],[790,710,710,720,700,670,660,640,650,660,810,820,790,760,780,620,740,750,750,680]]},mainChartLabels:{type:Array,default:()=>["计算机科学与技术","人工智能","软件工程","电子信息工程"]},comparisonChartLabels:{type:Array,default:()=>["2020年","2021年","2022年","2023年","2024年"]}},data(){return{chart:null,comparisonChart:null,chartWidth:this.width,chartHeight:this.height,processedData:null,comparisonProcessedData:null}},watch:{sourceData(t){this.initChartData(t)},comparisonData(t){this.initComparisonChartData(t)},width(t){this.chartWidth=t,this.resizeCharts()},height(t){this.chartHeight=t,this.resizeCharts()}},mounted(){this.initMainChart(),this.initComparisonChart(),this.initChartData(this.sourceData),this.initComparisonChartData(this.comparisonData),window.addEventListener("resize",this.resizeCharts)},beforeUnmount(){this.chart&&this.chart.dispose(),this.comparisonChart&&this.comparisonChart.dispose(),window.removeEventListener("resize",this.resizeCharts)},methods:{initMainChart(){this.chart=p.Ts(document.getElementById("main-boxplot")),this.setBaseOptions(this.chart,"四川大学/分数线")},initComparisonChart(){this.comparisonChart=p.Ts(document.getElementById("comparison-boxplot")),this.setBaseOptions(this.comparisonChart,"2020-2024分数线箱线图")},initChartData(t){this.processedData=p.p5.prepareBoxplotData(t),this.updateChartOptions(this.chart,this.processedData,"四川大学")},initComparisonChartData(t){this.comparisonProcessedData=p.p5.prepareBoxplotData(t),this.updateChartOptions(this.comparisonChart,this.comparisonProcessedData,"对比院校")},setBaseOptions(t,e){t.setOption({title:{text:e,left:"center"},tooltip:{trigger:"item",axisPointer:{type:"shadow"}},grid:{left:"5%",right:"5%",bottom:"15%",containLabel:!0},xAxis:{type:"category",data:this.mainChartLabels,axisLabel:{rotate:45,interval:0,color:"#333",fontSize:12}},yAxis:{type:"value",name:"分数",splitArea:{show:!0}}})},updateChartOptions(t,e,a){e&&t.setOption({xAxis:{data:e.axisData},series:[{name:a,type:"boxplot",data:e.boxData,tooltip:{formatter:t=>[`${a} ${t.name}:`,`最高分: ${t.data[5]}`,`中位数: ${t.data[3]}`,`最低分: ${t.data[1]}`].join("<br/>")}}]})},resizeCharts(){this.chart?.resize(),this.comparisonChart?.resize()}}},z=a(71241);const L=(0,z.A)(D,[["render",l],["__scopeId","data-v-d4e210e4"]]);var k=L}}]);
//# sourceMappingURL=941.f2e08142.js.map