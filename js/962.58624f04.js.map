{"version":3,"file":"js/962.58624f04.js","mappings":"4WA0EA,MAAMA,EAAY,CAChB,KAAM,CACJ,CAAEC,KAAM,WAAYC,MAAO,GAAIC,MAAO,WAEtC,CAAEF,KAAM,OAAQC,MAAO,EAAGC,MAAO,WACjC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,YAEpC,KAAM,CACJ,CAAEF,KAAM,WAAYC,MAAO,GAAIC,MAAO,WACtC,CAAEF,KAAM,OAAQC,MAAO,EAAGC,MAAO,WACjC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,WAClC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,YAEpC,KAAM,CACJ,CAAEF,KAAM,WAAYC,MAAO,GAAIC,MAAO,WACtC,CAAEF,KAAM,OAAQC,MAAO,EAAGC,MAAO,WACjC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,WAClC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,YAEpC,KAAM,CACJ,CAAEF,KAAM,WAAYC,MAAO,GAAIC,MAAO,WAEtC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,WAClC,CAAEF,KAAM,OAAQC,MAAO,IAAKC,MAAO,YAErC,KAAM,CACJ,CAAEF,KAAM,WAAYC,MAAO,GAAIC,MAAO,WACtC,CAAEF,KAAM,UAAWC,MAAO,EAAGC,MAAO,WACpC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,WAClC,CAAEF,KAAM,OAAQC,MAAO,GAAIC,MAAO,aAKhCC,EAAeA,KACnB,MAAMC,EAAY,IAAIC,IAMtB,OALAC,OAAOC,OAAOR,GAAWS,SAAQC,IAC/BA,EAASD,SAAQE,IACfN,EAAUO,IAAID,EAAKV,KAAM,CAAEA,KAAMU,EAAKV,KAAME,MAAOQ,EAAKR,OAAQ,GAChE,IAEGU,MAAMC,KAAKT,EAAUG,SAAS,EAIjCO,EAAgBC,GAAShB,EAAUgB,GAGnCC,EAAS,CAAC,E,OAChBC,EAAAA,EAAAA,KAAU,KACR,CAAC,KAAM,KAAM,KAAM,KAAM,MAAMT,SAASO,IACtC,MAAMG,EAAWC,SAASC,eAAe,SAASL,KAClD,IAAKG,EAEH,YADAG,QAAQC,KAAK,sBAAsBP,eAIrCC,EAAOD,GAAQQ,EAAAA,GAAaL,GAC5B,MAAMM,EAAS,CACbC,QAAS,CACPC,QAAS,OACTC,UAAW,kBACXC,SAAU,OAOZC,OAAQ,CACN,CACE7B,KAAM,OACN8B,KAAM,MACNC,OAAQ,CAAC,MAAO,OAChBC,mBAAmB,EACnBC,MAAO,CACLC,MAAM,EACNN,SAAU,UAEZO,SAAU,CACRF,MAAO,CACLC,MAAM,EACNE,SAAU,GACVC,WAAY,SAGhBC,UAAW,CACTJ,MAAM,GAERK,KAAMzB,EAAaC,GAAMyB,KAAK9B,IAAI,CAChCV,KAAMU,EAAKV,KACXC,MAAOS,EAAKT,MACZwC,UAAW,CAAEvC,MAAOQ,EAAKR,cAKjCc,EAAOD,GAAM2B,UAAUlB,GAGvB,MAAMmB,EAAgBA,IAAM3B,EAAOD,GAAM6B,SACzCC,OAAOC,iBAAiB,SAAUH,GAClC3B,EAAOD,GAAM4B,cAAgBA,CAAa,GAC1C,KAIJI,EAAAA,EAAAA,KAAY,KACV,CAAC,KAAM,KAAM,KAAM,KAAM,MAAMvC,SAASO,IAClCC,EAAOD,KACT8B,OAAOG,oBAAoB,SAAUhC,EAAOD,GAAM4B,eAClD3B,EAAOD,GAAMkC,UACf,GACA,I,89CCrLJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://cs-neep/./src/components/popups/SubMajors.vue","webpack://cs-neep/./src/components/popups/SubMajors.vue?e49e"],"sourcesContent":["<template>\r\n  <div class=\"subdivided-majors\">\r\n    <h2>计算机学院专业</h2>\r\n    <!-- 表格 -->\r\n    <div class=\"table-container\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>2024年开设专业</th>\r\n            <th>第四轮学科评估等级</th>\r\n            <th>2024年录取人数（全日制）</th>\r\n            <th>2024年复试分数线</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>计算机科学与技术</td>\r\n            <td>B+</td>\r\n            <td>26</td>\r\n            <td>310</td>\r\n          </tr>\r\n          <tr>\r\n            <td>智能科学与技术</td>\r\n            <td>-</td>\r\n            <td>2</td>\r\n            <td>300</td>\r\n          </tr>\r\n          <tr>\r\n            <td>软件工程</td>\r\n            <td>A-</td>\r\n            <td>14</td>\r\n            <td>310</td>\r\n          </tr>\r\n          <tr>\r\n            <td>电子信息</td>\r\n            <td>C</td>\r\n            <td>86</td>\r\n            <td>320</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <p>招生比例</p>\r\n    <!-- 图表容器 -->\r\n    <div class=\"charts-container\">\r\n      <div class=\"chart\" v-for=\"year in [2020, 2021, 2022, 2023, 2024]\" :key=\"year\">\r\n        <div :id=\"'chart-' + year\" class=\"chart-box\"></div>\r\n        <h3>{{ year }}年</h3>\r\n        <!-- 图例 -->\r\n        <!-- <div class=\"legend\">\r\n          <div v-for=\"(item, index) in getChartData(year)\" :key=\"index\" class=\"legend-item\">\r\n            <span class=\"color-box\" :style=\"{ backgroundColor: item.color }\"></span>\r\n            <span>{{ item.name }}</span>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- ✅ 公共图例 -->\r\n    <div class=\"legend legend-horizontal\">\r\n      <div v-for=\"(item, index) in getAllMajors()\" :key=\"index\" class=\"legend-item\">\r\n        <span class=\"color-box\" :style=\"{ backgroundColor: item.color }\"></span>\r\n        <span>{{ item.name }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, onUnmounted } from 'vue';\r\nimport * as echarts from 'echarts';\r\n\r\n// 模拟数据：每年各专业的比例（百分比，总和为100）\r\nconst chartData = {\r\n  2020: [\r\n    { name: '计算机科学与技术', value: 41, color: '#1E4BC0' },\r\n    // { name: '智能科学与技术', value: 25, color: '#537BF7' },\r\n    { name: '软件工程', value: 8, color: '#93AFF9' },\r\n    { name: '电子信息', value: 73, color: '#C7D3FB' },\r\n  ],\r\n  2021: [\r\n    { name: '计算机科学与技术', value: 18, color: '#1E4BC0' },\r\n    { name: '人工智能', value: 3, color: '#6B9BFF' },\r\n    { name: '软件工程', value: 13, color: '#93AFF9' },\r\n    { name: '电子信息', value: 61, color: '#C7D3FB' },\r\n  ],\r\n  2022: [\r\n    { name: '计算机科学与技术', value: 17, color: '#1E4BC0' },\r\n    { name: '人工智能', value: 7, color: '#6B9BFF' },\r\n    { name: '软件工程', value: 13, color: '#93AFF9' },\r\n    { name: '电子信息', value: 78, color: '#C7D3FB' },\r\n  ],\r\n  2023: [\r\n    { name: '计算机科学与技术', value: 20, color: '#1E4BC0' },\r\n    // { name: '智能科学与技术', value: 40, color: '#537BF7' },\r\n    { name: '软件工程', value: 15, color: '#93AFF9' },\r\n    { name: '电子信息', value: 175, color: '#C7D3FB' },\r\n  ],\r\n  2024: [\r\n    { name: '计算机科学与技术', value: 26, color: '#1E4BC0' },\r\n    { name: '智能科学与技术', value: 2, color: '#537BF7' },\r\n    { name: '软件工程', value: 14, color: '#93AFF9' },\r\n    { name: '电子信息', value: 86, color: '#C7D3FB' },\r\n  ],\r\n};\r\n\r\n// 获取所有唯一的专业及其颜色\r\nconst getAllMajors = () => {\r\n  const majorsMap = new Map();\r\n  Object.values(chartData).forEach(yearData => {\r\n    yearData.forEach(item => {\r\n      majorsMap.set(item.name, { name: item.name, color: item.color });\r\n    });\r\n  });\r\n  return Array.from(majorsMap.values());\r\n};\r\n\r\n// 获取图表数据\r\nconst getChartData = (year) => chartData[year];\r\n\r\n// 初始化图表\r\nconst charts = {};\r\nonMounted(() => {\r\n  [2020, 2021, 2022, 2023, 2024].forEach((year) => {\r\n    const chartDom = document.getElementById(`chart-${year}`);\r\n    if (!chartDom) {\r\n      console.warn(`Chart DOM for year ${year} not found`);\r\n      return;\r\n    }\r\n\r\n    charts[year] = echarts.init(chartDom);\r\n    const option = {\r\n      tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{b}: {c} ({d}%)',\r\n        position: 'top'\r\n      },\r\n      // legend: {\r\n      //   top: '5%',\r\n      //   left: 'center',\r\n      //   show: false, // Hide default legend since custom legend is used\r\n      // },\r\n      series: [\r\n        {\r\n          name: '招生比例',\r\n          type: 'pie',\r\n          radius: ['40%', '70%'],\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n            show: false,\r\n            position: 'center',\r\n          },\r\n          emphasis: {\r\n            label: {\r\n              show: true,\r\n              fontSize: 16,\r\n              fontWeight: 'bold',\r\n            },\r\n          },\r\n          labelLine: {\r\n            show: false,\r\n          },\r\n          data: getChartData(year).map((item) => ({\r\n            name: item.name,\r\n            value: item.value,\r\n            itemStyle: { color: item.color },\r\n          })),\r\n        },\r\n      ],\r\n    };\r\n    charts[year].setOption(option);\r\n\r\n    // Handle window resize\r\n    const resizeHandler = () => charts[year].resize();\r\n    window.addEventListener('resize', resizeHandler);\r\n    charts[year].resizeHandler = resizeHandler;\r\n  });\r\n});\r\n\r\n// 销毁图表\r\nonUnmounted(() => {\r\n  [2020, 2021, 2022, 2023, 2024].forEach((year) => {\r\n    if (charts[year]) {\r\n      window.removeEventListener('resize', charts[year].resizeHandler);\r\n      charts[year].dispose();\r\n    }\r\n  });\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.subdivided-majors {\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n/* 表格样式 */\r\n.table-container {\r\n  margin-bottom: 20px;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 10px;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\nth {\r\n  background-color: #e3e9ff;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 图表容器 */\r\n.charts-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.chart {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.chart h3 {\r\n  font-size: 16px;\r\n  color: #333;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.chart-box {\r\n  width: 170px;\r\n  height: 170px;\r\n}\r\n\r\n/* 图例样式 */\r\n.legend-horizontal {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  margin-top: 20px;\r\n  gap: 10px;\r\n}\r\n/* .legend {\r\n  margin-top: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  color: #666;\r\n  margin: 2px 0;\r\n} */\r\n\r\n.color-box {\r\n  width: 12px;\r\n  height: 12px;\r\n  display: inline-block;\r\n  margin-right: 5px;\r\n}\r\n</style>","import script from \"./SubMajors.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SubMajors.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SubMajors.vue?vue&type=style&index=0&id=67bd68ab&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67bd68ab\"]])\n\nexport default __exports__"],"names":["chartData","name","value","color","getAllMajors","majorsMap","Map","Object","values","forEach","yearData","item","set","Array","from","getChartData","year","charts","onMounted","chartDom","document","getElementById","console","warn","echarts","option","tooltip","trigger","formatter","position","series","type","radius","avoidLabelOverlap","label","show","emphasis","fontSize","fontWeight","labelLine","data","map","itemStyle","setOption","resizeHandler","resize","window","addEventListener","onUnmounted","removeEventListener","dispose","__exports__"],"sourceRoot":""}